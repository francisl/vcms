{% extends "shop/base.html" %}
{% load i18n %}
{% load search_widget %}

{% block stylesheetlink %}
    <link rel="stylesheet" href="{{ MEDIA_URL }}CustomThemes/maciek/ccss/contact.ccss" type="text/css" charset="utf-8">
{% endblock stylesheetlink %}

{% block javascript %}
$('select#id_country').change(function() {
    var country_id =$('select#id_country').val();
    $.ajax({
          type: "GET",
          url: "/getStatesProvinces/" + country_id + "/",
          dataType: "json",
          timeout: 5000,
          success: function(msg){
            var options = '';
            for (var i = 0, n = msg.length; i < n; i++) {
                options += '<option value="' + msg[i].optionValue + '">' + msg[i].optionDisplay + '</option>';
            }
            $("select#id_state").html(options);
          },
          error: function(msg){
            // There has been an error (country does not exist?)... do nothing
          }
        });
});
{% endblock javascript %}

{% block navigation %}
    {% show_detailed_search_box %}
    <div class="navigation_title">
        <dl>
            <dt class=""><a href="#">{% trans "Register" %}</a></dt>
        </dl>
    </div>
{% endblock %}

{% block vcms_main_content  %}
<div class="vcms_container_relative">

        
    <div style="float: right; width: 26%; font-size: 0.9em; margin-left: 2%; margin-top: 4em;">
    <b>The benefits of registering with Simthetiq.com</b>
    <ul class="manual_bullet">
        <li>• Be the first to learn about new Simthetiq products and services</li>
        <li>• Manage your account online</li>
        <li>• Download free functional samples and stylish desktop wallpapers</li>
        <li>• Purchase models and terrains online (coming soon!)</li>
    </ul>
    </div>
    <h2>{% trans "Register" %}</h2>

    <div class="normal_form">
    {{ form.errors }}
    <form method="post" action=".">
        {{ form.next }}
        {% csrf_token %}
        <table>
            <colgroup class="col_1" />
            <colgroup class="col_2" />
            
            <tr><td>{{ form.email.label_tag }}<span class="mandatory">*</span>{{ form.email }}</td><td></td></tr>
            <tr><td>{% if form.email.errors %}<span style="color: red;">{{ form.email.errors|join:", " }}</span>{% endif %}</td><td></td></tr>

            <tr><td>{{ form.password.label_tag }}<span class="mandatory">*</span>{{ form.password }}</td>
                <td>{{ form.password_confirm.label_tag }}<span class="mandatory">*</span>{{ form.password_confirm }}</td>
            </tr>
            
            <tr><td>{% if form.password.errors %}<span style="color: red;">{{ form.password.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.password_confirm.errors %}<span style="color: red;">{{ form.password_confirm.errors|join:", " }}</span>{% endif %}</td>
            </tr>

            <tr><td>{{ form.title }}</td>
                <td></td>
            </tr>

            <tr><td>{{ form.first_name.label_tag }}<span class="mandatory">*</span>{{ form.first_name }}</td>
                <td>{{ form.last_name.label_tag }}<span class="mandatory">*</span>{{ form.last_name }}</td>
            </tr>
            <tr><td>{% if form.first_name.errors %}<span style="color: red;">{{ form.first_name.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.last_name.errors %}<span style="color: red;">{{ form.last_name.errors|join:", " }}</span>{% endif %}</td>
            </tr>

            <tr><td>{{ form.organization_type }}<span class="mandatory">*</span><br />{{ form.organization }}</td>
                <td>{{ form.role.label_tag }}<span class="mandatory">*</span>{{ form.role }}</td>
            </tr>
            
            <tr><td>{% if form.organization.errors %}<span style="color: red;">{{ form.organization.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.role.errors %}<span style="color: red;">{{ form.role.errors|join:", " }}</span>{% endif %}</td>
            </tr>

            <tr><td>{{ form.address.label_tag }}{{ form.address }}</td>
                <td>{{ form.street2.label_tag }}{{ form.street2 }}</td>
            </tr>
            
            <tr><td>{% if form.city.errors %}<span style="color: red;">{{ form.city.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.state.errors %}<span style="color: red;">{{ form.state.errors|join:", " }}</span>{% endif %}</td>
            </tr>


            <tr><td>{{ form.city.label_tag }}<span class="mandatory">*</span>{{ form.city }}</td>
                <td>{{ form.state.label_tag }}<span class="mandatory">*</span>{{ form.state }}</td>
            </tr>
            
            <tr><td>{% if form.city.errors %}<span style="color: red;">{{ form.city.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.state.errors %}<span style="color: red;">{{ form.state.errors|join:", " }}</span>{% endif %}</td>
            </tr>

            <tr><td>{{ form.postal_code.label_tag }}{{ form.postal_code }}</td>
                <td>{{ form.username.label_tag }}{{ form.username }}</td>
            </tr>
                
            <tr><td>{% if form.postal_code.errors %}<span style="color: red;">{{ form.postal_code.errors|join:", " }}</span>{% endif %}</td>    
                <td>{% if form.username.errors %}<span style="color: red;">{{ form.username.errors|join:", " }}</span>{% endif %}</td>
            </tr>

            <tr><td>{{ form.country.label_tag }}<span class="mandatory">*</span>{{ form.country }}</td>
                <td>{{ form.phone.label_tag }}{{ form.phone }}</td>
            </tr>
            
            <tr><td>{% if form.country.errors %}<span style="color: red;">{{ form.country.errors|join:", " }}</span>{% endif %}</td>
                <td>{% if form.phone.errors %}<span style="color: red;">{{ form.country.errors|join:", " }}</span>{% endif %}</td>
            </tr>


            {% if show_newsletter %}
            <tr><td>{{ form.newsletter.label_tag }}{{ form.newsletter }}</td>
                <td>{% if form.newsletter.errors %}<span style="color: red;">{{ form.newsletter.errors|join:", " }}</span>{% endif %}</td>
            </tr>
            {% else %}
            <input type='hidden' name='newsletter' value="False" />
            {% endif %}

            
            <tr><td><h6><span class="mandatory">*</span>Mandatory Field</h6>
                    <span class="notice">Please note that your customer information will be handled in strict accordance with Simthtiq.com’s privacy policy.</span></td>
                <td>
                    <div class="button">
                        <button type="submit" value="{% trans "Register" %}" class="button dark_bg">{% trans "Register" %}</button>
                    </div>
                </td>
            </tr>
            
            
        </table>
        <div class="underform register">

            <div class="submit"></div>
        </div>
    </form>
    </div>

</div>
{% endblock vcms_main_content  %}